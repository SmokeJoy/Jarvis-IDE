
  src/webview/handlers/BaseWebviewMessageHandler.ts:11:13
    11   protected webview: Webview;
                   ~~~~~~~
    'webview' is declared here.

src/webview/handlers/TaskQueueMessageHandler.ts:181:15 - error TS2551: Property '_webview' does not exist on type 'TaskQueueMessageHandler'. Did you mean 'webview'?

181     if (!this._webview) {
                  ~~~~~~~~

  src/webview/handlers/BaseWebviewMessageHandler.ts:11:13
    11   protected webview: Webview;
                   ~~~~~~~
    'webview' is declared here.

src/webview/handlers/TaskQueueMessageHandler.ts:185:10 - error TS2551: Property '_webview' does not exist on type 'TaskQueueMessageHandler'. Did you mean 'webview'?

185     this._webview.postMessage({
             ~~~~~~~~

  src/webview/handlers/BaseWebviewMessageHandler.ts:11:13
    11   protected webview: Webview;
                   ~~~~~~~
    'webview' is declared here.

src/webview/handlers/WebviewMessageHandler.ts:9:3 - error TS2724: '"../../shared/types/webview.types"' has no exported member named 'StateUpdateMessage'. Did you mean 'StateMessage'?

9   StateUpdateMessage,
    ~~~~~~~~~~~~~~~~~~

src/webview/handlers/WebviewMessageHandler.ts:82:27 - error TS2339: Property 'response' does not exist on type '{ text?: string | undefined; role?: string | undefined; streaming?: boolean | undefined; error?: string | undefined; }'.

82     if (!message.payload?.response) {
                             ~~~~~~~~

src/webview/handlers/WebviewMessageHandler.ts:92:37 - error TS2339: Property 'response' does not exist on type '{ text?: string | undefined; role?: string | undefined; streaming?: boolean | undefined; error?: string | undefined; }'.

92       lastResponse: message.payload.response,
                                       ~~~~~~~~

src/webview/handlers/WebviewMessageHandler.ts:125:7 - error TS2353: Object literal may only specify known properties, and 'id' does not exist in type 'WebviewMessage<string, Record<string, unknown>>'.

125       id: message.id,
          ~~

src/webview/handlers/WebviewMessageHandler.ts:137:30 - error TS18048: 'response.payload' is possibly 'undefined'.

137       lastInstructionResult: response.payload.result,
                                 ~~~~~~~~~~~~~~~~

src/webview/index.test.tsx:11:7 - error TS2322: Type '"openai"' is not assignable to type 'LLMProviderId'.

11       provider: 'openai',
         ~~~~~~~~

  src/shared/types/api.types.ts:222:12
    222   readonly provider: LLMProviderId;
                   ~~~~~~~~
    The expected type comes from property 'provider' which is declared here on type 'ApiConfiguration'

src/webview/index.test.tsx:20:12 - error TS2790: The operand of a 'delete' operator must be optional.

20     delete window.initialConfig;
              ~~~~~~~~~~~~~~~~~~~~

src/webview/McpView.test.tsx:47:56 - error TS2698: Spread types may only be created from object types.

47     <pre data-testid="code-content" style={{ ...style, ...customStyle }} {...props}>  
                                                          ~~~~~~~~~~~~~~

src/webview/McpView.tsx:6:10 - error TS2305: Module '"../types/messages"' has no exported member 'Message'.

6 import { Message } from '../types/messages';
           ~~~~~~~

src/webview/messages/firebase-auth-message-guards.ts:4:3 - error TS2724: '"./firebase-auth-message"' has no exported member named 'FirebaseAuthMessageUnion'. Did you mean 'FirebaseAuthMessage'?

4   FirebaseAuthMessageUnion,
    ~~~~~~~~~~~~~~~~~~~~~~~~

src/webview/messages/firebase-auth-message-guards.ts:29:64 - error TS2694: Namespace '"E:/cline-main/src/webview/messages/firebase-auth-message".FirebaseAuthMessageType' has no exported member 'TOKEN_REFRESHED'.

29 ): message is FirebaseAuthMessageUnion<FirebaseAuthMessageType.TOKEN_REFRESHED> => {  
                                                                  ~~~~~~~~~~~~~~~        

src/webview/messages/firebase-auth-message-guards.ts:30:51 - error TS2339: Property 'TOKEN_REFRESHED' does not exist on type 'typeof FirebaseAuthMessageType'.

30   return message.type === FirebaseAuthMessageType.TOKEN_REFRESHED;
                                                     ~~~~~~~~~~~~~~~

src/webview/messages/firebase-auth-message.ts:19:18 - error TS2430: Interface 'AuthStateChangedMessage' incorrectly extends interface 'WebviewMessage<FirebaseAuthMessageType.AUTH_STATE_CHANGED, Record<string, unknown>>'.
  Types of property 'payload' are incompatible.
    Type 'AuthStateChangedPayload | null' is not assignable to type 'Record<string, unknown> | undefined'.
      Type 'null' is not assignable to type 'Record<string, unknown> | undefined'.       

19 export interface AuthStateChangedMessage
                    ~~~~~~~~~~~~~~~~~~~~~~~

src/webview/messages/firebase-auth-message.ts:25:18 - error TS2430: Interface 'SignInWithTokenMessage' incorrectly extends interface 'WebviewMessage<FirebaseAuthMessageType.SIGN_IN_WITH_TOKEN, Record<string, unknown>>'.
  Types of property 'payload' are incompatible.
    Type 'SignInWithTokenPayload' is not assignable to type 'Record<string, unknown>'.   
      Index signature for type 'string' is missing in type 'SignInWithTokenPayload'.     

25 export interface SignInWithTokenMessage
                    ~~~~~~~~~~~~~~~~~~~~~~

src/webview/messages/firebase-auth-message.ts:31:18 - error TS2430: Interface 'LogoutMessage' incorrectly extends interface 'WebviewMessage<FirebaseAuthMessageType.LOGOUT, Record<string, unknown>>'.
  Types of property 'payload' are incompatible.
    Type 'null' is not assignable to type 'Record<string, unknown> | undefined'.

31 export interface LogoutMessage extends WebviewMessage<FirebaseAuthMessageType.LOGOUT> {
                    ~~~~~~~~~~~~~

src/webview/messages/multi-agent-message-guards.ts:1:33 - error TS2724: '"./multi-agent-message"' has no exported member named 'MultiAgentMessageUnion'. Did you mean 'MultiAgentMessage'?

1 import { MultiAgentMessageType, MultiAgentMessageUnion } from './multi-agent-message'; 
                                  ~~~~~~~~~~~~~~~~~~~~~~

src/webview/messages/multi-agent-message-guards.ts:6:49 - error TS2551: Property 'AGENT_STATUS_UPDATED' does not exist on type 'typeof MultiAgentMessageType'. Did you mean 'AGENT_STATUS_UPDATE'?

6   return message.type === MultiAgentMessageType.AGENT_STATUS_UPDATED;
                                                  ~~~~~~~~~~~~~~~~~~~~

  src/webview/messages/multi-agent-message.ts:6:3
    6   AGENT_STATUS_UPDATE = 'agentStatusUpdate',
        ~~~~~~~~~~~~~~~~~~~
    'AGENT_STATUS_UPDATE' is declared here.

src/webview/messages/multi-agent-message-guards.ts:12:49 - error TS2339: Property 'AGENT_ERROR' does not exist on type 'typeof MultiAgentMessageType'.

12   return message.type === MultiAgentMessageType.AGENT_ERROR;
                                                   ~~~~~~~~~~~

src/webview/pages/SettingsPage.tsx:24:41 - error TS2312: An interface can only extend an object type or intersection of object types with statically known members.

24 interface SettingsLoadedMessage extends WebviewMessage {
                                           ~~~~~~~~~~~~~~

src/webview/pages/SettingsPage.tsx:29:41 - error TS2312: An interface can only extend an object type or intersection of object types with statically known members.

29 interface SettingUpdatedMessage extends WebviewMessage {
                                           ~~~~~~~~~~~~~~

src/webview/pages/SettingsPage.tsx:99:24 - error TS2352: Conversion of type '{ type: "updateSetting"; key: keyof Settings; value: string | boolean; }' to type 'SettingUpdatedMessage' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of property 'type' are incompatible.
    Type '"updateSetting"' is not comparable to type '"settingUpdated"'.

 99     vscode.postMessage({
                           ~
100       type: 'updateSetting',
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~
...
102       value,
    ~~~~~~~~~~~~
103     } as SettingUpdatedMessage);
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

src/webview/SettingsView.test.tsx:60:44 - error TS2345: Argument of type '{ settings: { provider: string; model: string; coder_mode: true; use_docs: false; contextPrompt: string; systemPrompt: string; }; updateSetting: any; saveSystemPrompt: any; }' is not assignable to parameter of type 'SettingsContextType'.
  Type '{ settings: { provider: string; model: string; coder_mode: true; use_docs: false; contextPrompt: string; systemPrompt: string; }; updateSetting: any; saveSystemPrompt: any; }' is missing the following properties from type 'SettingsContextType': selectModel, openSystemPromptFile, setSystemPromptPath

 60     vi.mocked(useSettings).mockReturnValue({
                                               ~
 61       settings: {
    ~~~~~~~~~~~~~~~~~
...
 70       saveSystemPrompt: mockSaveSystemPrompt,
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 71     });
    ~~~~~

src/webview/SettingsView.tsx:50:21 - error TS2339: Property 'updateSettings' does not exist on type 'SettingsContextType'.

50   const { settings, updateSettings } = useSettings();
                       ~~~~~~~~~~~~~~

src/webview/SettingsView.tsx:86:28 - error TS2488: Type 'AvailableModel[] | undefined' must have a '[Symbol.iterator]()' method that returns an iterator.

86       availableModels: [...settings.availableModels, id],
                              ~~~~~~~~~~~~~~~~~~~~~~~~

src/webview/SettingsView.tsx:115:11 - error TS18048: 'settings.availableModels' is possibly 'undefined'.

115           settings.availableModels.map((model) =>
              ~~~~~~~~~~~~~~~~~~~~~~~~

src/webview/SettingsView.tsx:119:17 - error TS2769: No overload matches this call.       
  The last overload gave the following error.
    Type 'AvailableModel' is not assignable to type 'Key | null | undefined'.
      Type 'AvailableModel' is not assignable to type 'string'.

119                 key: model,
                    ~~~

  node_modules/@types/react/index.d.ts:561:14
    561     function createElement<P extends {}>(
                     ~~~~~~~~~~~~~
    The last overload is declared here.

src/webview/SettingsView.tsx:120:17 - error TS2769: No overload matches this call.       
  The last overload gave the following error.
    Type 'AvailableModel' is not assignable to type 'Key | null | undefined'.
      Type 'AvailableModel' is not assignable to type 'string'.

120                 value: model,
                    ~~~~~

  node_modules/@types/react/index.d.ts:561:14
    561     function createElement<P extends {}>(
                     ~~~~~~~~~~~~~
    The last overload is declared here.

src/webview/SettingsView.tsx:252:11 - error TS2769: No overload matches this call.       
  The last overload gave the following error.
    Object literal may only specify known properties, and 'value' does not exist in type 'Attributes'.

252           value: settings.systemPrompt,
              ~~~~~

  node_modules/@types/react/index.d.ts:561:14
    561     function createElement<P extends {}>(
                     ~~~~~~~~~~~~~
    The last overload is declared here.

src/webview/vscode.ts:8:5 - error TS2717: Subsequent property declarations must have the same type.  Property 'vscode' must be of type 'VSCodeAPI', but here has type 'any'.      

8     vscode: any;
      ~~~~~~

  src/shared/types/vscode.types.ts:7:5
    7     vscode: VSCodeAPI;
          ~~~~~~
    'vscode' was also declared here.

src/webview/webview.test.tsx:9:10 - error TS2724: '"./webview"' has no exported member named 'WebView'. Did you mean 'Webview'?

9 import { WebView } from './WebView';
           ~~~~~~~

  src/webview/webview.tsx:118:17
    118 export function Webview({ config }: WebviewProps) {
                        ~~~~~~~
    'Webview' is declared here.

src/webview/webview.test.tsx:9:25 - error TS1149: File name 'E:/cline-main/src/webview/WebView.tsx' differs from already included file name 'E:/cline-main/src/webview/webview.tsx' only in casing.
  The file is in the program because:
    Imported via './webview' from file 'E:/cline-main/src/webview/index.tsx'
    Imported via './webview' from file 'E:/cline-main/src/webview/webview.test.tsx'      
    Imported via './WebView' from file 'E:/cline-main/src/webview/webview.test.tsx'      
    Matched by include pattern 'src/**/*' in 'E:/cline-main/tsconfig.json'

9 import { WebView } from './WebView';
                          ~~~~~~~~~~~

  src/webview/index.tsx:2:25
    2 import { Webview } from './webview';
                              ~~~~~~~~~~~
    File is included via import here.
  src/webview/webview.test.tsx:5:25
    5 import { Webview } from './webview';
                              ~~~~~~~~~~~
    File is included via import here.
  tsconfig.json:24:14
    24  "include": ["src/**/*", "tests/**/*"],
                    ~~~~~~~~~~
    File is matched by include pattern specified here.

src/webview/webview.test.tsx:28:5 - error TS2353: Object literal may only specify known properties, and 'getState' does not exist in type 'VSCodeAPI'.

28     getState: vi.fn(),
       ~~~~~~~~

src/webview/webview.test.tsx:39:3 - error TS2353: Object literal may only specify known properties, and 'temperature' does not exist in type 'ApiConfiguration'.

39   temperature: 0.7,
     ~~~~~~~~~~~

src/webview/webview.test.tsx:90:23 - error TS2554: Expected 2-3 arguments, but got 1.    

90             response: createSafeMessage({role: 'assistant', content: 'test response', timestamp: Date.now()}),
                         ~~~~~~~~~~~~~~~~~

  src/shared/types/message-adapter.ts:22:3
    22   content: string | ContentBlock[],
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    An argument for 'content' was not provided.

src/webview/webview.test.tsx:135:23 - error TS2554: Expected 2-3 arguments, but got 1.   

135             response: createSafeMessage({role: 'assistant', content: 'test response', timestamp: Date.now()}),
                          ~~~~~~~~~~~~~~~~~

  src/shared/types/message-adapter.ts:22:3
    22   content: string | ContentBlock[],
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    An argument for 'content' was not provided.

src/webview/webview.tsx:149:15 - error TS2554: Expected 2-3 arguments, but got 1.        

149               createSafeMessage({role: 'assistant', content: message.chunk, timestamp: Date.now()}),
                  ~~~~~~~~~~~~~~~~~

  src/shared/types/message-adapter.ts:22:3
    22   content: string | ContentBlock[],
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    An argument for 'content' was not provided.

src/webview/webview.tsx:173:38 - error TS2554: Expected 2-3 arguments, but got 1.        

173     const userMessage: BaseMessage = createSafeMessage({role: 'user', content: input, timestamp: Date.now()});
                                         ~~~~~~~~~~~~~~~~~

  src/shared/types/message-adapter.ts:22:3
    22   content: string | ContentBlock[],
         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    An argument for 'content' was not provided.

src/webview/webview.tsx:204:35 - error TS2339: Property 'map' does not exist on type 'never'.

204                 : message.content.map((part, i) => (
                                      ~~~

src/webview/webview.tsx:204:40 - error TS7006: Parameter 'part' implicitly has an 'any' type.

204                 : message.content.map((part, i) => (
                                           ~~~~

src/webview/webview.tsx:204:46 - error TS7006: Parameter 'i' implicitly has an 'any' type.

204                 : message.content.map((part, i) => (
                                                 ~

src/webview/WebviewManager.ts:43:25 - error TS2345: Argument of type 'TaskQueueMessageHandler' is not assignable to parameter of type 'WebviewMessageHandler'.
  Type 'TaskQueueMessageHandler' is missing the following properties from type 'WebviewMessageHandler': _handleSendPrompt, _handleAction, _handleResponse, _handleStateUpdate, _handleInstruction

43     this._handlers.push(new TaskQueueMessageHandler(this._masManager));
                           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

src/webview/WebviewManager.ts:75:15 - error TS2339: Property 'initialize' does not exist on type 'WebviewMessageHandler'.

75       handler.initialize(this._panel!.webview);
                 ~~~~~~~~~~

src/webview/WebviewManager.ts:89:53 - error TS2339: Property 'dispose' does not exist on type 'WebviewMessageHandler'.

89         this._handlers.forEach((handler) => handler.dispose());
                                                       ~~~~~~~

src/webview/WebviewManager.ts:193:49 - error TS2339: Property 'dispose' does not exist on type 'WebviewMessageHandler'.

193     this._handlers.forEach((handler) => handler.dispose());
                                                    ~~~~~~~

tests/e2e/fixtures/mock-strategy.ts:24:5 - error TS2322: Type '() => Promise<null>' is not assignable to type '(providers: LLMProviderHandler[], stats: Map<string, ProviderStats>, failedProviders?: Set<string> | undefined) => LLMProviderHandler | null'.
  Type 'Promise<null>' is missing the following properties from type 'LLMProviderHandler': id, name, isEnabled, isAvailable, and 5 more.

24     selectProvider: async () => {
       ~~~~~~~~~~~~~~

  src/mas/core/fallback/strategies/FallbackStrategy.ts:22:3
     22   selectProvider(
          ~~~~~~~~~~~~~~~
     23     providers: LLMProviderHandler[],
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    ...
     25     failedProviders?: Set<string>
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     26   ): LLMProviderHandler | null;
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    The expected type comes from property 'selectProvider' which is declared here on type 'FallbackStrategy'

tests/e2e/fixtures/mock-strategy.ts:52:5 - error TS1117: An object literal cannot have multiple properties with the same name.

52     isEnabled: true,
       ~~~~~~~~~

tests/e2e/visix-embed.spec.ts:2:36 - error TS2307: Cannot find module './fixtures/mock-event-bus' or its corresponding type declarations.

2 import { createMockEventBus } from './fixtures/mock-event-bus';
                                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~

tests/e2e/visix-embed.spec.ts:4:30 - error TS2307: Cannot find module '../src/mas/core/fallback/LLMEventBus' or its corresponding type declarations.

4 import { LLMEventType } from '../src/mas/core/fallback/LLMEventBus';
                               ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

tests/e2e/visix-embed.spec.ts:38:20 - error TS2339: Property 'setActive' does not exist on type 'FallbackStrategy'.

38     await strategy.setActive('cost-based');
                      ~~~~~~~~~

tests/mas/core/fallback/LLMFallbackManager.test.ts:22:7 - error TS2353: Object literal may only specify known properties, and 'displayName' does not exist in type 'Partial<LLMProviderHandler>'.

22       displayName: 'Provider 1',
         ~~~~~~~~~~~

tests/mas/core/fallback/LLMFallbackManager.test.ts:35:7 - error TS2353: Object literal may only specify known properties, and 'displayName' does not exist in type 'Partial<LLMProviderHandler>'.

35       displayName: 'Provider 2',
         ~~~~~~~~~~~

tests/mas/core/fallback/LLMFallbackManager.test.ts:60:19 - error TS2741: Property 'displayName' is missing in type 'import("E:/cline-main/src/mas/types/llm-provider.types").LLMProviderHandler' but required in type 'import("E:/cline-main/src/mas/providers/provider-registry").LLMProviderHandler'.

60       providers: [mockProvider1, mockProvider2],
                     ~~~~~~~~~~~~~

  src/mas/providers/provider-registry.ts:29:5
    29     public readonly displayName: string
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    'displayName' is declared here.

tests/mas/core/fallback/LLMFallbackManager.test.ts:60:34 - error TS2741: Property 'displayName' is missing in type 'import("E:/cline-main/src/mas/types/llm-provider.types").LLMProviderHandler' but required in type 'import("E:/cline-main/src/mas/providers/provider-registry").LLMProviderHandler'.

60       providers: [mockProvider1, mockProvider2],
                                    ~~~~~~~~~~~~~

  src/mas/providers/provider-registry.ts:29:5
    29     public readonly displayName: string
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    'displayName' is declared here.

tests/mas/core/fallback/LLMFallbackManager.test.ts:73:26 - error TS2339: Property 'mockResolvedValue' does not exist on type '(prompt: string) => Promise<LLMResponse>'.

73       mockProvider1.call.mockResolvedValue(mockResult);
                            ~~~~~~~~~~~~~~~~~

tests/mas/core/fallback/LLMFallbackManager.test.ts:75:77 - error TS2554: Expected 2 arguments, but got 1.

75       const result = await manager.executeWithFallback(provider => provider.call('test prompt'));
                                                                               ~~~~      

  src/mas/providers/provider-registry.ts:32:35
    32   async call(request: LLMRequest, context: AgentContext): Promise<LLMResponse> {  
                                         ~~~~~~~~~~~~~~~~~~~~~
    An argument for 'context' was not provided.

tests/mas/core/fallback/LLMFallbackManager.test.ts:91:26 - error TS2339: Property 'mockRejectedValue' does not exist on type '(prompt: string) => Promise<LLMResponse>'.

91       mockProvider1.call.mockRejectedValue(error);
                            ~~~~~~~~~~~~~~~~~

tests/mas/core/fallback/LLMFallbackManager.test.ts:92:26 - error TS2339: Property 'mockResolvedValue' does not exist on type '(prompt: string) => Promise<LLMResponse>'.

92       mockProvider2.call.mockResolvedValue({ data: 'success' });
                            ~~~~~~~~~~~~~~~~~

tests/mas/core/fallback/LLMFallbackManager.test.ts:94:77 - error TS2554: Expected 2 arguments, but got 1.

94       const result = await manager.executeWithFallback(provider => provider.call('test prompt'));
                                                                               ~~~~      

  src/mas/providers/provider-registry.ts:32:35
    32   async call(request: LLMRequest, context: AgentContext): Promise<LLMResponse> {  
                                         ~~~~~~~~~~~~~~~~~~~~~
    An argument for 'context' was not provided.

tests/mas/core/fallback/LLMFallbackManager.test.ts:116:26 - error TS2339: Property 'mockRejectedValue' does not exist on type '(prompt: string) => Promise<LLMResponse>'.

116       mockProvider1.call.mockRejectedValue(error);
                             ~~~~~~~~~~~~~~~~~

tests/mas/core/fallback/LLMFallbackManager.test.ts:117:26 - error TS2339: Property 'mockRejectedValue' does not exist on type '(prompt: string) => Promise<LLMResponse>'.

117       mockProvider2.call.mockRejectedValue(error);
                             ~~~~~~~~~~~~~~~~~

tests/mas/core/fallback/LLMFallbackManager.test.ts:120:58 - error TS2554: Expected 2 arguments, but got 1.

120         manager.executeWithFallback(provider => provider.call('test prompt'))        
                                                             ~~~~

  src/mas/providers/provider-registry.ts:32:35
    32   async call(request: LLMRequest, context: AgentContext): Promise<LLMResponse> {  
                                         ~~~~~~~~~~~~~~~~~~~~~
    An argument for 'context' was not provided.

tests/mas/core/fallback/LLMFallbackManager.test.ts:134:26 - error TS2339: Property 'mockRejectedValue' does not exist on type '(prompt: string) => Promise<LLMResponse>'.

134       mockProvider1.call.mockRejectedValue(error);
                             ~~~~~~~~~~~~~~~~~

tests/mas/core/fallback/LLMFallbackManager.test.ts:135:26 - error TS2339: Property 'mockResolvedValue' does not exist on type '(prompt: string) => Promise<LLMResponse>'.

135       mockProvider2.call.mockResolvedValue({ data: 'success' });
                             ~~~~~~~~~~~~~~~~~

tests/mas/core/fallback/LLMFallbackManager.test.ts:140:66 - error TS2554: Expected 2 arguments, but got 1.

140           await manager.executeWithFallback(provider => provider.call('test prompt'));
                                                                     ~~~~

  src/mas/providers/provider-registry.ts:32:35
    32   async call(request: LLMRequest, context: AgentContext): Promise<LLMResponse> {  
                                         ~~~~~~~~~~~~~~~~~~~~~
    An argument for 'context' was not provided.

tests/mas/core/fallback/TelemetryTracker.test.ts:2:34 - error TS2307: Cannot find module '../../../src/mas/core/fallback/TelemetryTracker' or its corresponding type declarations.

2 import { TelemetryTracker } from '../../../src/mas/core/fallback/TelemetryTracker';    
                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~     

tests/mocks/index.ts:2:15 - error TS2307: Cannot find module './mock-event-bus' or its corresponding type declarations.

2 export * from './mock-event-bus';
                ~~~~~~~~~~~~~~~~~~

tests/mocks/index.ts:4:1 - error TS2308: Module './llm-mocks' has already exported a member named 'createMockProvider'. Consider explicitly re-exporting to resolve the ambiguity.

4 export * from './mock-provider';
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

tests/mocks/llm-mocks.ts:4:10 - error TS2352: Conversion of type '{ id: string; name: string; isEnabled: true; handle: any; }' to type 'LLMProviderHandler' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ id: string; name: string; isEnabled: true; handle: any; }' is missing the following properties from type 'LLMProviderHandler': isAvailable, enable, disable, call, and 2 more.

  4   return {
             ~
  5     id,
    ~~~~~~~
...
 14     })
    ~~~~~~
 15   } as LLMProviderHandler;
    ~~~~~~~~~~~~~~~~~~~~~~~~~

tests/mocks/llm-mocks.ts:8:13 - error TS2304: Cannot find name 'vi'.

8     handle: vi.fn().mockImplementation(() => {
              ~~

tests/shared/MockEventBus.ts:1:47 - error TS2307: Cannot find module '../../src/shared/types/llm-event.types' or its corresponding type declarations.

1 import { LLMEventPayload, LLMEventType } from '../../src/shared/types/llm-event.types';
                                                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 

tests/utils/test-helpers.ts:1:23 - error TS2459: Module '"../../src/mas/core/fallback/LLMEventBus"' declares 'LLMEventType' locally, but it is not exported.

1 import { LLMEventBus, LLMEventType } from '../../src/mas/core/fallback/LLMEventBus';   
                        ~~~~~~~~~~~~

  src/mas/core/fallback/LLMEventBus.ts:7:10
    7 import { LLMEventType, type LLMEventPayload, type LLMEventListener } from '../../types/llm-events';
               ~~~~~~~~~~~~
    'LLMEventType' is declared here.

webview-ui/src/utils/vscode.ts:17:3 - error TS2300: Duplicate identifier 'acquireVsCodeApi'.

17   acquireVsCodeApi: () => {
     ~~~~~~~~~~~~~~~~

  src/types/vscode-webview.d.ts:45:7
    45       acquireVsCodeApi(): VSCodeAPI;
             ~~~~~~~~~~~~~~~~
    'acquireVsCodeApi' was also declared here.


Found 2124 errors in 349 files.

Errors  Files
    57  src/api/index.ts:15
    21  src/api/provider/getApiProvider.ts:2
     5  src/api/provider/lmstudio.ts:1
     7  src/api/provider/sambanova.ts:1
    11  src/api/provider/together.ts:1
    17  src/api/providers/anthropic.ts:7
     7  src/api/providers/asksage.ts:37
    32  src/api/providers/bedrock.ts:6
     4  src/api/providers/config/deepseek-config.test.ts:14
     4  src/api/providers/config/openai-config.test.ts:14
    11  src/api/providers/deepseek.test.ts:1
    20  src/api/providers/deepseek.ts:12
     8  src/api/providers/gemini.ts:6
    22  src/api/providers/groq.ts:4
    13  src/api/providers/litellm.ts:7
     7  src/api/providers/lmstudio.ts:2
    10  src/api/providers/mistral.ts:2
     7  src/api/providers/ollama.ts:5
    16  src/api/providers/openai-native.ts:4
    25  src/api/providers/openai.ts:11
    12  src/api/providers/openrouter.ts:11
     2  src/api/providers/perplexity.ts:4
    15  src/api/providers/qwen.ts:4
    11  src/api/providers/requesty.ts:2
    10  src/api/providers/sambanova.ts:5
    10  src/api/providers/together.ts:6
     6  src/api/providers/transform/deepseek-format.ts:1
     2  src/api/providers/types.ts:4
    10  src/api/providers/vertex.ts:6
    10  src/api/providers/vscode-lm.ts:11
     9  src/api/providers/xai.ts:19
     2  src/api/providers/zero.ts:4
    17  src/api/transform/anthropic-format.ts:8
     1  src/api/transform/gemini-format.ts:222
     3  src/api/transform/link-preview.ts:1
     2  src/api/transform/llmstudio-format.ts:23
     2  src/api/transform/mistral-format.ts:23
    12  src/api/transform/o1-format.ts:2
     5  src/api/transform/ollama-format.ts:128
    10  src/api/transform/openai-format.ts:31
     7  src/api/transform/openrouter-stream.ts:25
     5  src/api/transform/r1-format.ts:112
     9  src/api/transform/stream.ts:33
     1  src/api/transform/vertex-format.ts:1
     1  src/api/transform/vscode-lm-format.ts:207
     2  src/api/types/index.ts:2
     9  src/benchmark/BenchmarkStorage.ts:67
     9  src/commands/agentCommands.ts:4
     8  src/commands/exportCommands.ts:20
     1  src/components/AggregateStatsView.tsx:3
     4  src/components/DebuggerTimeline.tsx:39
     3  src/components/DebugOverlay.tsx:7
     5  src/components/DecisionDetails.tsx:2
     9  src/components/DecisionGraphView.tsx:2
     4  src/components/FallbackAuditPanel.tsx:3
     1  src/components/FallbackChartPanel.tsx:17
     2  src/components/FallbackMonitorPanel.tsx:3
     7  src/components/MitigatorOverlay.tsx:51
     8  src/components/OpenRouterModelPicker.test.tsx:16
     2  src/components/PredictiveWarningPanel.tsx:5
     2  src/components/ReplayButton.tsx:2
     7  src/components/settings/OpenRouterModelPicker.tsx:18
     4  src/components/settings/SettingsPanel.tsx:52
     3  src/components/settings/SettingsView.tsx:7
     1  src/components/settings/TabNavbarExample.tsx:26
     3  src/components/settings/ThinkingBudgetSlider.tsx:2
     2  src/components/settings/utils.ts:1
     7  src/components/SnapshotDetail.tsx:54
     2  src/components/TaskQueueView.tsx:2
     9  src/components/TimelineEntry.tsx:2
     1  src/context/ExtensionStateContext.tsx:50
     1  src/core/ai/AIFileManager.ts:4
     2  src/core/context-management/ContextManager.ts:2
     3  src/core/ignore/JarvisIdeIgnoreController.test.ts:1
     2  src/core/JarvisIde.test.ts:1
     1  src/core/mas/CoderAgent.ts:203
     1  src/core/mas/SupervisorAgent.ts:277
     3  src/core/prompts/responses.ts:2
     1  src/core/prompts/system.ts:9
    18  src/core/webview/__tests__/JarvisProvider.test.ts:36
    12  src/core/webview/__tests__/testUtils.ts:3
     1  src/core/webview/ExtensionMessageExtensions.ts:12
    79  src/core/webview/JarvisProvider.ts:10
     1  src/data/__tests__/modelLoader.fallback.test.ts:56
     2  src/data/__tests__/modelLoader.test.ts:32
     1  src/data/__tests__/providerRegistry.test.ts:173
     3  src/data/openrouterModels.ts:13
     1  src/data/providerRegistry.ts:120
     7  src/data/providers/anthropicModels.ts:27
     4  src/dev/commands/tasks.ts:59
     3  src/exports/index.ts:11
     2  src/extension.test.ts:41
    67  src/extension.ts:39
     1  src/hooks/useAggregateStats.ts:2
     1  src/hooks/useAuth.test.tsx:2
     7  src/hooks/useAutoMitigation.ts:2
     1  src/hooks/useChat.test.tsx:2
     1  src/hooks/useConfigModel.ts:13
     4  src/hooks/useDebuggerOverlay.ts:2
     7  src/hooks/useDecisionGraphData.ts:37
     6  src/hooks/useFallbackAudit.ts:2
     2  src/hooks/useFallbackChartData.ts:2
     5  src/hooks/useFallbackTelemetry.ts:2
     9  src/hooks/useFilteredHistory.ts:28
     4  src/hooks/useJarvisIdeChat.ts:2
     2  src/hooks/useJarvisIdeContext.ts:3
     4  src/hooks/useJarvisIdeModel.ts:2
     1  src/hooks/useJarvisIdePrompt.ts:3
     1  src/hooks/useJarvisIdeTelemetry.ts:3
     1  src/hooks/usePredictiveWarnings.ts:2
     1  src/hooks/useProviderBlacklist.ts:2
     1  src/hooks/useProviderSeries.ts:2
     1  src/hooks/vscode-api.ts:6
     1  src/integrations/diagnostics/index.ts:15
     1  src/integrations/editor/DiffViewProvider.ts:8
     1  src/integrations/misc/link-preview.ts:3
     2  src/integrations/terminal/TerminalManager.ts:74
     3  src/integrations/terminal/TerminalProcess.test.ts:13
     1  src/integrations/terminal/TerminalRegistry.ts:20
     2  src/integrations/workspace/WorkspaceTracker.ts:10
     1  src/lib/exportGraph.ts:2
     3  src/lib/replaySnapshot.ts:1
     1  src/lib/simulateEvents.ts:1
     4  src/mas/core/fallback/__tests__/AdaptiveFallbackStrategy.e2e.test.ts:13
    18  src/mas/core/fallback/__tests__/AdaptiveFallbackStrategy.test.ts:3
     2  src/mas/core/fallback/__tests__/LLMEventBus.test.ts:9
    76  src/mas/core/fallback/__tests__/LLMFallbackManager.test.ts:7
     6  src/mas/core/fallback/LLMEventBus.ts:30
     3  src/mas/core/fallback/LLMFallbackManager.ts:2
     1  src/mas/core/fallback/strategies/__tests__/adaptive-conditions.test.ts:14        
    14  src/mas/core/fallback/strategies/__tests__/AdaptiveFallbackStrategy.test.ts:24   
     5  src/mas/core/fallback/strategies/__tests__/CompositeFallbackStrategy.test.ts:14  
     1  src/mas/core/fallback/strategies/__tests__/PreferredFallbackStrategy.test.ts:9   
     1  src/mas/core/fallback/strategies/__tests__/ReliabilityFallbackStrategy.test.ts:9 
     1  src/mas/core/fallback/strategies/__tests__/RoundRobinFallbackStrategy.test.ts:9  
     1  src/mas/core/fallback/strategies/adaptive-conditions.ts:6
     2  src/mas/core/fallback/strategies/AdaptiveFallbackStrategy.ts:7
     1  src/mas/core/fallback/strategies/CompositeFallbackStrategy.ts:8
     1  src/mas/core/fallback/strategies/FallbackStrategy.ts:7
     2  src/mas/core/fallback/strategies/FallbackStrategyFactory.ts:124
     1  src/mas/core/fallback/strategies/PreferredFallbackStrategy.ts:8
     1  src/mas/core/fallback/strategies/ReliabilityFallbackStrategy.ts:8
     1  src/mas/core/fallback/strategies/RoundRobinFallbackStrategy.ts:8
     1  src/mas/core/fallback/TelemetryTracker.ts:1
     2  src/mas/core/MASOrchestrator.test.ts:4
     6  src/mas/core/MASOrchestrator.ts:57
     1  src/mas/metrics/provider-score-manager.ts:1
     3  src/mas/providers/provider-registry.test.ts:2
    14  src/mas/providers/provider-registry.ts:7
     6  src/mas/services/TaskQueueMessageHandler.ts:10
     1  src/mas/services/TaskQueueService.ts:6
     1  src/mas/store/AgentStore.ts:7
     1  src/mas/strategy/agent-strategy-router.ts:1
     2  src/mitigator/index.ts:26
     2  src/providers/BaseLLMProvider.ts:31
     5  src/providers/llm-orchestrator.ts:10
     4  src/providers/LLMOrchestrator.ts:8
     2  src/providers/local/GGUFProvider.ts:129
     3  src/providers/local/LMDeployProvider.ts:114
     3  src/providers/local/LMStudioProvider.ts:124
     4  src/providers/local/OllamaProvider.ts:152
     7  src/providers/openai-provider.ts:80
     2  src/providers/openrouter-message.ts:8
     6  src/providers/OpenRouterProvider.ts:2
     1  src/providers/provider-registry.ts:269
     3  src/providers/provider-scoring.ts:349
     5  src/providers/remote/AnthropicProvider.ts:111
     2  src/providers/remote/GoogleAIProvider.ts:156
     3  src/providers/remote/GroqProvider.ts:128
     3  src/providers/remote/MistralProvider.ts:128
     3  src/providers/remote/OpenAIProvider.ts:142
    12  src/scripts/__tests__/fix-imports.test.ts:73
     1  src/scripts/benchmark-import.ts:38
     3  src/scripts/fix-imports.test.ts:4
     1  src/services/lmstudio/LMStudioService.ts:57
     2  src/services/mcp/__tests__/mcpDispatcher.test.ts:2
     3  src/services/mcp/core/navigation/exploratory.test.ts:2
     4  src/services/mcp/core/navigation/exploratory.ts:1
     8  src/services/mcp/core/navigation/hybrid.test.ts:2
     3  src/services/mcp/core/navigation/hybrid.ts:3
     3  src/services/mcp/core/navigation/semantic.test.ts:2
     4  src/services/mcp/core/navigation/semantic.ts:1
     4  src/services/mcp/handlers/__tests__/contextGraphExportHandler.test.ts:7
    16  src/services/mcp/handlers/__tests__/contextNavigateHandler.test.ts:9
    25  src/services/mcp/handlers/__tests__/contextSearchByTagsHandler.test.ts:7
    20  src/services/mcp/handlers/__tests__/contextTagHandler.test.ts:7
     3  src/services/mcp/handlers/askDocsHandler.ts:304
     1  src/services/mcp/handlers/codeGenerateHandler.ts:16
    13  src/services/mcp/handlers/configLinter.test.ts:37
     5  src/services/mcp/handlers/configLinter.ts:2
     5  src/services/mcp/handlers/contextClearHandler.ts:2
     4  src/services/mcp/handlers/contextEditHandler.ts:1
     4  src/services/mcp/handlers/contextExportHandler.ts:1
     5  src/services/mcp/handlers/contextGraphExportHandler.ts:6
     5  src/services/mcp/handlers/contextGraphHandler.ts:1
     4  src/services/mcp/handlers/contextImportHandler.ts:1
     4  src/services/mcp/handlers/contextInjectHandler.ts:176
     4  src/services/mcp/handlers/contextLinkHandler.ts:1
     3  src/services/mcp/handlers/contextLinksOfHandler.ts:1
    11  src/services/mcp/handlers/contextListHandler.ts:21
     9  src/services/mcp/handlers/contextNavigateHandler.test.ts:1
    51  src/services/mcp/handlers/contextNavigateHandler.ts:8
    19  src/services/mcp/handlers/contextSearchByTagsHandler.ts:2
    11  src/services/mcp/handlers/contextTagHandler.ts:2
     2  src/services/mcp/handlers/contextUnlinkHandler.ts:1
     3  src/services/mcp/handlers/directoryScanner.test.ts:79
     2  src/services/mcp/handlers/directoryScanner.ts:2
     3  src/services/mcp/handlers/errorResolver.ts:2
     3  src/services/mcp/handlers/fileSummarizer.ts:2
     2  src/services/mcp/handlers/fsFormatHandler.ts:398
     6  src/services/mcp/handlers/projectDepGraphHandler.ts:40
     2  src/services/mcp/handlers/projectLintHandler.ts:43
     3  src/services/mcp/handlers/projectSummaryHandler.ts:294
    10  src/services/mcp/handlers/readFileHandler.test.ts:61
     1  src/services/mcp/handlers/readFileHandler.ts:59
     4  src/services/mcp/handlers/searchDocsHandler.test.ts:11
     2  src/services/mcp/handlers/searchDocsHandler.ts:6
     4  src/services/mcp/handlers/testRunHandler.ts:40
     1  src/services/mcp/mcp.types.ts:320
     1  src/services/mcp/McpDispatcher.ts:171
     5  src/services/mcp/McpHub.ts:57
     2  src/services/mcp/run-server.ts:9
     7  src/services/mcp/test-script.ts:24
     2  src/services/mcp/toolsListServer.ts:76
     1  src/services/mcp/utils/navigationGraph.test.ts:7
     1  src/services/mcp/utils/navigationGraph.ts:8
     1  src/services/ripgrep/index.ts:6
     6  src/services/settings/SettingsManager.test.ts:17
    15  src/services/TaskQueueService.ts:3
     4  src/services/tree-sitter/index.ts:6
     2  src/services/tree-sitter/languageParser.ts:20
     1  src/shared/__tests__/__mocks__/vscode.ts:46
    12  src/shared/__tests__/api.types.test.ts:23
     1  src/shared/__tests__/setup.ts:5
    12  src/shared/__tests__/validators.more.test.ts:7
     8  src/shared/__tests__/validators.test.ts:4
    98  src/shared/api.ts:7
     2  src/shared/array.test.ts:57
     6  src/shared/ExtensionMessage.ts:14
     2  src/shared/settings.ts:2
     5  src/shared/types/__tests__/extensionMessageUnion.test.ts:23
    13  src/shared/types/api.types.ts:9
     1  src/shared/types/audit-message.ts:9
     1  src/shared/types/blacklist-message.ts:11
     1  src/shared/types/convertToWebviewMessage.test.ts:91
     1  src/shared/types/extension-message.ts:11
     2  src/shared/types/extensionMessageUnion.ts:1
     1  src/shared/types/fallback-message.ts:11
     1  src/shared/types/global.ts:9
     4  src/shared/types/index.ts:5
     1  src/shared/types/llm.types.ts:121
     1  src/shared/types/mcp-connection-message.ts:11
     3  src/shared/types/message-adapter.ts:8
     2  src/shared/types/message.types.ts:8
     1  src/shared/types/messages.ts:52
     1  src/shared/types/prompt-history-message.ts:11
     1  src/shared/types/provider-message.ts:11
     1  src/shared/types/provider-stats.ts:1
     1  src/shared/types/session.ts:7
     1  src/shared/types/strategy-message.ts:11
     1  src/shared/types/telemetry-message.ts:9
     9  src/shared/types/test-utils.types.ts:3
    14  src/shared/types/webview.types.test.ts:28
     1  src/shared/types/webviewMessageUnion.ts:8
    23  src/shared/validators.ts:10
     3  src/shared/validators/__tests__/contextValidator.test.ts:9
     6  src/shared/validators/contextValidator.ts:6
    37  src/shared/validators/modelValidator.ts:6
    14  src/storage/benchmark/BenchmarkStorage.ts:6
    10  src/stories/FallbackAuditPanel.stories.tsx:28
     4  src/stories/FallbackChartPanel.stories.tsx:2
    10  src/stories/FallbackMonitorPanel.stories.tsx:65
     9  src/test/extension.test.ts:24
     1  src/test/fileOperations.test.ts:21
     2  src/test/JarvisAgentTest.ts:8
     1  src/test/suite/fileOperations.test.ts:21
     6  src/test/suite/index.ts:7
     5  src/test/suite/modelLoader.test.ts:2
     4  src/types/api.types.ts:11
     6  src/types/chat.test.ts:14
     5  src/types/extension.test.ts:3
     1  src/types/extension.types.ts:3
     5  src/types/global.test.ts:55
     3  src/types/index.ts:10
     2  src/types/settings.types.ts:41
     1  src/types/webview.test.ts:15
     2  src/utils/chatExport.ts:31
     8  src/utils/cost.test.ts:11
     2  src/utils/cost.ts:24
     9  src/utils/exporters.ts:9
     7  src/utils/exporters/__tests__/csv.test.ts:28
     6  src/utils/exporters/__tests__/html.test.ts:31
     7  src/utils/exporters/__tests__/importers.test.ts:317
     2  src/utils/exporters/__tests__/index.test.ts:52
    10  src/utils/exporters/__tests__/markdown.test.ts:26
     1  src/utils/exporters/__tests__/sanitize.test.ts:158
     1  src/utils/exporters/csv.ts:10
     7  src/utils/exporters/examples/import-example.ts:138
     3  src/utils/exporters/examples/usage.ts:13
     4  src/utils/exporters/html.ts:7
    13  src/utils/exporters/importers.ts:7
     4  src/utils/exporters/index.ts:27
     4  src/utils/exporters/markdown.ts:7
     2  src/utils/exporters/sanitize.ts:6
     5  src/utils/exporters/serializers.ts:6
     2  src/utils/exporters/tests/sanitize.test.ts:91
     2  src/utils/exporters/types.ts:5
     2  src/utils/mcp.ts:36
     1  src/utils/shell.test.ts:2
     8  src/utils/validateApiConfiguration.ts:26
     1  src/utils/webview.ts:5
     3  src/visix/index.ts:12
     2  src/visix/visix.build.config.ts:1
     3  src/vscode/visix-plugin.ts:2
     1  src/webview-ui/settingsProvider.tsx:2
     2  src/webview-ui/src/components/ModelSelector/__tests__/ModelSelector.test.tsx:3   
     6  src/webview-ui/src/components/ModelSelector/ModelSelector.tsx:1
     4  src/webview-ui/src/components/MultiAgentControl/MultiAgentControl.tsx:2
     1  src/webview-ui/src/components/PromptHistory/__tests__/PromptHistory.test.tsx:3   
     6  src/webview-ui/src/components/PromptHistory/PromptHistory.tsx:2
     1  src/webview-ui/types/WebviewMessageType.ts:39
     1  src/webview/components/FirebaseAuthPanel.tsx:4
     4  src/webview/components/SystemPromptEditor.tsx:22
    34  src/webview/handlers/__tests__/WebviewMessageHandler.test.ts:69
     2  src/webview/handlers/BaseWebviewMessageHandler.ts:25
    14  src/webview/handlers/TaskQueueMessageHandler.ts:22
     5  src/webview/handlers/WebviewMessageHandler.ts:9
     2  src/webview/index.test.tsx:11
     1  src/webview/McpView.test.tsx:47
     1  src/webview/McpView.tsx:6
     3  src/webview/messages/firebase-auth-message-guards.ts:4
     3  src/webview/messages/firebase-auth-message.ts:19
     3  src/webview/messages/multi-agent-message-guards.ts:1
     3  src/webview/pages/SettingsPage.tsx:24
     1  src/webview/SettingsView.test.tsx:60
     6  src/webview/SettingsView.tsx:50
     1  src/webview/vscode.ts:8
     6  src/webview/webview.test.tsx:9
     5  src/webview/webview.tsx:149
     4  src/webview/WebviewManager.ts:43
     2  tests/e2e/fixtures/mock-strategy.ts:24
     3  tests/e2e/visix-embed.spec.ts:2
    15  tests/mas/core/fallback/LLMFallbackManager.test.ts:22
     1  tests/mas/core/fallback/TelemetryTracker.test.ts:2
     2  tests/mocks/index.ts:2
     2  tests/mocks/llm-mocks.ts:4
     1  tests/shared/MockEventBus.ts:1
     1  tests/utils/test-helpers.ts:1
     1  webview-ui/src/utils/vscode.ts:17
PS E:\cline-main> 